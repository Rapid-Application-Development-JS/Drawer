!function(e,t){"function"==typeof define&&define.amd?define(function(){return e.Drawer=t()}):"object"==typeof module&&module.exports?module.exports=e.Drawer=t():e.Drawer=t()}(this,function(){function e(e){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}var n,i=["ms","moz","webkit","o"],o=document.createElement("div"),a=e.toLowerCase(),r=[];for(n=0;n<i.length;n+=1)r.push(i[n]+t(e));for(n=0;n<r.length;n+=1)if(void 0!==o.style[r[n]]){a="-"+i[n]+"-"+e;break}return a}function t(t,n){function i(e,t){this.x=e||0,this.y=t||0,this.setNewCoords=function(e,t){this.x=e,this.y=t}}function o(){v=q.swipe,q.overlay&&(y=document.createElement("div"),D.appendChild(y)),s();for(O in x)x.hasOwnProperty(O)&&D.addEventListener(x[O],A,!1);q.resizeEvent&&window.addEventListener("resize",A,!1),N.preventDefaultTags=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/,N._transformName=e("transform"),N._transitionName=e("transition"),N._transitionEndName=e("transitionEnd")||"transitionend"}function a(){var e={},t=function(){X.style.width=q.maxSize,e.contentOffset=D.offsetWidth,e.wrapperOffset=_.offsetWidth,e.navigationOffset=X.offsetWidth,e.trackingSize=parseInt(q.startTrackingZone,10)*H.contentOffset/100},n=function(){X.style.height=q.maxSize,e.navigationOffset=X.offsetHeight,e.contentOffset=D.offsetHeight,e.wrapperOffset=_.offsetHeight,e.trackingSize=parseInt(q.startTrackingZone,10)*H.contentOffset/100},i=function(t){return t.x>e.trackingSize&&h===!0?F.vertical:null},o=function(t){return t.x<e.wrapperOffset-e.trackingSize&&h===!0?F.vertical:null},a=function(t){return t.y>e.trackingSize&&h===!0?F.horizontal:null},r=function(t){return t.y<e.wrapperOffset-e.trackingSize&&h===!0?F.horizontal:null},s=function(t){if(L+t>=0&&L+t<=e.wrapperOffset){var n=L+t;return D.style[N._transformName]=H.getTranslate3dString(n),L=n,q.overlay&&q.overlayOpacity&&(y.style.opacity=Math.abs(n/g)),!0}return!1},l=function(t){if(L+t>=-e.wrapperOffset&&0>=L+t){var n=L+t;return D.style[N._transformName]=H.getTranslate3dString(n),L=n,q.overlay&&q.overlayOpacity&&(y.style.opacity=Math.abs(n/g)),!0}return!1};switch(e.isHorizontalOrientation="left"===q.align||"right"===q.align,e.getTranslate3dString=function(t){return e.isHorizontalOrientation?"translate3d("+t+"px, 0, 0)":"translate3d(0, "+t+"px, 0)"},q.align){case"left":e.getOpenSpin=function(){return H.navigationOffset-L},e.getCloseSpin=function(){return-L},e.getDirection=function(e){return e.speedX<0?"close":"open"},e.applyStyles=t,e.getGestureKind=i,e.changeContentPosition=s,e.clearElement=function(e){e.style.left=0,e.style.top=0,e.style.bottom="auto",e.style.right="auto"};break;case"right":e.getOpenSpin=function(){return-(H.navigationOffset-Math.abs(L))},e.getCloseSpin=function(){return-L},e.getDirection=function(e){return e.speedX<0?"open":"close"},e.applyStyles=t,e.getGestureKind=o,e.changeContentPosition=l,e.clearElement=function(e){e.style.right=0,e.style.top=0,e.style.left="auto",e.style.bottom="auto"};break;case"top":e.getOpenSpin=function(){return H.navigationOffset-L},e.getCloseSpin=function(){return-L},e.getDirection=function(e){return e.speedY<0?"close":"open"},e.applyStyles=n,e.getGestureKind=a,e.changeContentPosition=s,e.clearElement=function(e){e.style.top=0,e.style.left=0,e.style.bottom="auto",e.style.right="auto"};break;case"bottom":e.getOpenSpin=function(){return-(H.navigationOffset-Math.abs(L))},e.getCloseSpin=function(){return-L},e.getDirection=function(e){return e.speedY<0?"close":"open"},e.applyStyles=n,e.getGestureKind=r,e.changeContentPosition=l,e.clearElement=function(e){e.style.bottom=0,e.style.left=0,e.style.top="auto",e.style.right="auto"}}return e}function r(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function s(){function e(e){e.style.position="absolute",e.style.margin=0,e.style.padding=0,e.style.width="100%",e.style.height="100%",H.clearElement(e)}var t=["fixed","relative","absolute"],n=t.indexOf(window.getComputedStyle(_,null).position);_.style.position=-1===n?"relative":t[n],_.style.overflow="hidden",e(D),e(X),H.applyStyles(),q.overlay&&(e(y),y.style.display="none",q.overlayOpacity&&(y.style.backgroundColor=q.overlayBackground,y.style.opacity=0)),L=0,g=H.wrapperOffset,w=0,h=!0}function l(e,t){var n=e.pageX||e.clientX+document.body.scrollLeft,i=e.pageY||e.clientY+document.body.scrollTop,o=t.getBoundingClientRect();return n-=o.left+document.body.scrollLeft,i-=o.top+document.body.scrollTop,{x:n,y:i}}function c(e){var t=l(e,D);z&&z(),clearTimeout(k),window.cancelAnimationFrame(T),Y.x=e.originalEvent?e.originalEvent.clientX:e.clientX,Y.y=e.originalEvent?e.originalEvent.clientY:e.clientY,P.x=Y.x,P.y=Y.y,C=function(){S&&(T=window.requestAnimationFrame(C)),v&&H.changeContentPosition(w),w=0},E=H.getGestureKind(t),w=0}function f(e){var t,n,i=e.originalEvent?e.originalEvent.clientX:e.clientX,o=e.originalEvent?e.originalEvent.clientY:e.clientY;if(H.isHorizontalOrientation){if(w+=i-Y.x,t=o-P.y,Math.abs(i-Y.x)<Math.abs(o-P.y))return void Y.setNewCoords(i,o)}else if(w+=o-Y.y,t=i-P.x,Math.abs(i-Y.x)>Math.abs(o-P.y))return void Y.setNewCoords(i,o);var a=Math.abs(H.navigationOffset/L);a=a>1?1:a,w*=a,Y.setNewCoords(i,o),null===E&&(n=Math.abs(w)>Math.abs(t)/2?F.horizontal:F.vertical,q.overlay&&(y.style.display="block"),S=!0,T=window.requestAnimationFrame(C),E=n)}function u(){S=!1,k=setTimeout(function(){E=null,d()},100)}function p(e){e=e.originalEvent||e;var t=Math.abs(e.speedX)>Math.abs(e.speedY),n=Math.abs(e.speedY)>Math.abs(e.speedX),i=H.getDirection(e);(t&&Math.abs(e.speedX)>.2&&v&&E===F.horizontal&&H.isHorizontalOrientation||n&&Math.abs(e.speedY)>.2&&v&&E===F.vertical&&!H.isHorizontalOrientation)&&(clearTimeout(k),d(i))}function m(){h||(clearTimeout(k),d(M.close))}function d(e){var t,n=q.animationTime;"string"!=typeof e&&(e=Math.abs(L)>H.navigationOffset/2?M.open:M.close),e===M.open?(t=H.getOpenSpin(),h=!1):(t=H.getCloseSpin(),h=!0),z&&(z=null),clearTimeout(k),window.cancelAnimationFrame(T),D.style[N._transitionName]="all "+n*Math.abs(t)/g+"ms ease-in-out",q.overlay&&(y.style.opacity=Math.abs(L/g),y.offsetWidth,y.style[N._transitionName]="opacity "+n*Math.abs(t)/g+"ms ease-in-out",y.style.opacity=e===M.close?0:1),z=function(){D.removeEventListener(N._transitionEndName,z),z=null,D.style[N._transitionName]="none",q.overlay&&(y.style[N._transitionName]="none","close"===e?y.style.display="none":y.style.display="block"),q.onActionEnd(h)},D.addEventListener(N._transitionEndName,z,!1),Math.abs(t)>0&&q.onActionStart(h),H.changeContentPosition(t)}var y,g,w,h,v,b,E,O,S,C,T,k,z,A,N=this,M={close:"close",open:"open"},x={tap:"tap",up:"pointerup",move:"pointermove",down:"pointerdown",chancel:"pointercancel",fling:"fling"},F={vertical:"vertical",horizontal:"horizontal"},_=t,X=_.firstElementChild,D=X.nextElementSibling,L=0,Y=new i,P=new i,q=r({align:"left",overlay:!0,overlayOpacity:!0,overlayBackground:"rgba(0, 0, 0, 0.4)",swipe:!0,preventMove:!0,resizeEvent:!0,maxSize:"70%",startTrackingZone:"20%",animationTime:350,onActionEnd:function(){},onActionStart:function(){}},n),H=a();A=function(e){switch(e.type){case x.down:c(e);break;case x.move:f(e);break;case x.chancel:case x.up:u(e);break;case x.fling:p(e);break;case"resize":clearTimeout(b),b=setTimeout(function(){this.refresh()}.bind(N),150);break;case x.tap:var t=e.target.nodeName.toUpperCase();N.preventDefaultTags.test(t)||m()}}.bind(N),o(),this.destroy=function(){var e;for(e in x)x.hasOwnProperty(e)&&D.removeEventListener(x[e],A);window.removeEventListener("resize",A),z&&(z=null),clearTimeout(k),window.cancelAnimationFrame(T),D.removeEventListener(N._transitionEndName,z),z=null,D.style[N._transitionName]="none",q.overlay&&(y.style[N._transitionName]="none",y.style.display="none",D.removeChild(y)),X=null,D=null,y=null},this.refresh=function(){z&&z(),clearTimeout(k),window.cancelAnimationFrame(T),h=!0,q.overlay&&(y.style.display="none",q.overlayOpacity&&(y.style.opacity=0)),D.style[this._transformName]="translate3d(0, 0, 0)",L=0,H.applyStyles()},this.setState=function(e){h!==e&&(q.overlay&&(y.style.display="block"),d(e?"close":"open"))},this.setOnActionEndCallback=function(e){q.onActionEnd=e?e:function(){}},this.setOnActionStartCallback=function(e){q.onActionStart=e?e:function(){}},this.isClosed=function(){return h},this.setEnableSwipe=function(e){v=e},this.isEnableSwipe=function(){return v}}return window.performance=window.performance||{},window.performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}(),function(){var e,t,n,i,o=0,a=["ms","moz","webkit","o"];for(e=0;e<a.length&&!window.requestAnimationFrame;e+=1)window.requestAnimationFrame=window[a[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[e]+"CancelAnimationFrame"]||window[a[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){return t=window.performance.now(),n=Math.max(0,16-(t-o)),i=window.setTimeout(function(){e(t+n)},n),o=t+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),t});
//# sourceMappingURL=release/drawer.min.js.map